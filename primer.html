

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CadQuery Concepts &mdash; CadQuery Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="CadQuery Documentation" href="index.html"/>
        <link rel="next" title="CadQuery Scripts and Object Output" href="fileformat.html"/>
        <link rel="prev" title="CadQuery Design Principles" href="designprinciples.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CadQuery
          

          
            
            <img src="_static/cadquery_logo_dark.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing CadQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">CadQuery QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="designprinciples.html">CadQuery Design Principles</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">CadQuery Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-brep-topology-concepts">3D BREP Topology Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cq-the-cadquery-object">CQ, the CadQuery Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workplanes">Workplanes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-construction">2D Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">3D Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#selectors">Selectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#construction-geometry">Construction Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-stack">The Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chaining">Chaining</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-context-solid">The Context Solid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iteration">Iteration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fileformat.html">CadQuery Scripts and Object Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">CadQuery Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="apireference.html">CadQuery API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="selectors.html">String Selectors Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="selectors.html#combining-selectors">Combining Selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="classreference.html">CadQuery Class Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="cqgi.html">The CadQuery Gateway Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending CadQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">RoadMap:  Planned Features</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CadQuery</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>CadQuery Concepts</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cadquery-concepts">
<span id="d-cad-primer"></span><h1>CadQuery Concepts<a class="headerlink" href="#cadquery-concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="d-brep-topology-concepts">
<h2>3D BREP Topology Concepts<a class="headerlink" href="#d-brep-topology-concepts" title="Permalink to this headline">¶</a></h2>
<p>Before talking about CadQuery, it makes sense to talk a little about 3D CAD Topology. CadQuery is based upon the
OpenCascade kernel, which is uses Boundary Representations ( BREP ) for objects.  This just means that objects
are defined by their enclosing surfaces.</p>
<p>When working in a BREP system, these fundamental constructs exist to define a shape ( working up the food chain):</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">vertex:</th><td class="field-body">a single point in space</td>
</tr>
<tr class="field-even field"><th class="field-name">edge:</th><td class="field-body">a connection between two or more vertices along a particular path ( called a curve )</td>
</tr>
<tr class="field-odd field"><th class="field-name">wire:</th><td class="field-body">a collection of edges that are connected together.</td>
</tr>
<tr class="field-even field"><th class="field-name">face:</th><td class="field-body">a set of edges or wires that enclose a surface</td>
</tr>
<tr class="field-odd field"><th class="field-name">shell:</th><td class="field-body">a collection of faces that are connected together along some of their edges</td>
</tr>
<tr class="field-even field"><th class="field-name">solid:</th><td class="field-body">a shell that has a closed interior</td>
</tr>
<tr class="field-odd field"><th class="field-name">compound:</th><td class="field-body">a collection of solids</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>When using CadQuery, all of these objects are created, hopefully with the least possible work. In the actual CAD
kernel, there are another set of Geometrical constructs involved as well. For example, an arc-shaped edge will
hold a reference to an underlying curve that is a full cricle, and each linear edge holds underneath it the equation
for a line.  CadQuery shields you from these constructs.</p>
</div>
<div class="section" id="cq-the-cadquery-object">
<h2>CQ, the CadQuery Object<a class="headerlink" href="#cq-the-cadquery-object" title="Permalink to this headline">¶</a></h2>
<p>The CadQuery object wraps a BREP feature, and provides functionality around it.  Typical examples include rotating,
transforming, combining objects, and creating workplanes.</p>
<p>See <a class="reference internal" href="apireference.html#apireference"><span>CadQuery API Reference</span></a> to learn more.</p>
</div>
<div class="section" id="workplanes">
<h2>Workplanes<a class="headerlink" href="#workplanes" title="Permalink to this headline">¶</a></h2>
<p>Workplanes represent a plane in space, from which other features can be located. They have a center point and a local
coordinate system.</p>
<p>The most common way to create a workplane is to locate one on the face of a solid.  You can also create new workplanes
in space, or relative to other planes using offsets or rotations.</p>
<p>The most powerful feature of workplanes is that they allow you to work in 2D space in the coordinate system of the
workplane, and then build 3D features based on local coordinates.  This makes scripts much easier to create and maintain.</p>
<p>See <a class="reference internal" href="classreference.html#cadquery.Workplane" title="cadquery.Workplane"><code class="xref py py-class docutils literal"><span class="pre">cadquery.Workplane</span></code></a> to learn more</p>
</div>
<div class="section" id="d-construction">
<h2>2D Construction<a class="headerlink" href="#d-construction" title="Permalink to this headline">¶</a></h2>
<p>Once you create a workplane, you can work in 2D, and then later use the features you create to make 3D objects.
You&#8217;ll find all of the 2D constructs you expect&#8211; circles, lines, arcs, mirroring, points, etc.</p>
<p>See <a class="reference internal" href="apireference.html#doperations"><span>2-d Operations</span></a> to learn more.</p>
</div>
<div class="section" id="id1">
<h2>3D Construction<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>You can construct 3D primatives such as boxes, spheres, wedges, and cylinders directly. You can also sweep, extrude,
and loft 2D geometry to form 3D features.  Of course the basic primitive operations are also available.</p>
<p>See <a class="reference internal" href="apireference.html#id1"><span>3-d Operations</span></a> to learn more.</p>
</div>
<div class="section" id="selectors">
<h2>Selectors<a class="headerlink" href="#selectors" title="Permalink to this headline">¶</a></h2>
<p>Selectors allow you to select one or more features, for use to define new features.  As an example, you might
extrude a box, and then select the top face as the location for a new feture.  Or, you might extrude a box, and
then select all of the vertical edges so that you can apply a fillet to them.</p>
<p>You can select Vertices, Edges, Faces, Solids, and Wires using selectors.</p>
<p>Think of selectors as the equivalent of your hand and mouse, were you to build an object using a conventional CAD system.</p>
<p>You can learn more about selectors <a class="reference internal" href="apireference.html#selectors"><span>Selectors</span></a></p>
</div>
<div class="section" id="construction-geometry">
<h2>Construction Geometry<a class="headerlink" href="#construction-geometry" title="Permalink to this headline">¶</a></h2>
<p>Construction geometry are features that are not part of the object, but are only defined to aid in building the object.
A common example might be to define a rectangle, and then use the corners to define a the location of a set of holes.</p>
<p>Most CadQuery construction methods provide a forConstruction keyword, which creates a feature that will only be used
to locate other features</p>
</div>
<div class="section" id="the-stack">
<h2>The Stack<a class="headerlink" href="#the-stack" title="Permalink to this headline">¶</a></h2>
<p>As you work in CadQuery, each operation returns a new CadQuery object with the result of that operations. Each CadQuery
object has a list of objects, and a reference to its parent.</p>
<p>You can always go backwards to older operations by removing the current object from the stack.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CQ</span><span class="p">(</span><span class="n">someObject</span><span class="p">)</span><span class="o">.</span><span class="n">faces</span><span class="p">(</span><span class="s2">&quot;&gt;Z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
</pre></div>
</div>
<p>returns a CadQuery object that contains all of the vertices on highest face of someObject. But you can always move
backwards in the stack to get the face as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CQ</span><span class="p">(</span><span class="n">someObject</span><span class="p">)</span><span class="o">.</span><span class="n">faces</span><span class="p">(</span><span class="s2">&quot;&gt;Z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="c1">#returns the same as CQ(someObject).faces(&quot;&gt;Z&quot;).first()</span>
</pre></div>
</div>
<p>You can browse stack access methods here <a class="reference internal" href="apireference.html#stackmethods"><span>Stack and Selector Methods</span></a></p>
</div>
<div class="section" id="chaining">
<h2>Chaining<a class="headerlink" href="#chaining" title="Permalink to this headline">¶</a></h2>
<p>All CadQuery methods return another CadQuery object, so that you can chain the methods together fluently. Use
the core CQ methods to get at the objects that were created.</p>
</div>
<div class="section" id="the-context-solid">
<h2>The Context Solid<a class="headerlink" href="#the-context-solid" title="Permalink to this headline">¶</a></h2>
<p>Most of the time, you are building a single object, and adding features to that single object.  CadQuery watches
your operations, and defines the first solid object created as the &#8216;context solid&#8217;.  After that, any features
you create are automatically combined ( unless you specify otherwise) with that solid.  This happens even if the
solid was created  a long way up in the stack.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Workplane</span><span class="p">(</span><span class="s1">&#39;XY&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">faces</span><span class="p">(</span><span class="s2">&quot;&gt;Z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span><span class="o">.</span><span class="n">extrude</span><span class="p">()</span>
</pre></div>
</div>
<p>Will create a 1x2x3 box, with a cylindrical boss extending from the top face.  It was not necessary to manually
combine the cylinder created by extruding the circle with the box, because the default behavior for extrude is
to combine the result with the context solid. The hole() method works similarly&#8211; CadQuery presumes that you want
to subtract the hole from the context solid.</p>
<p>If you want to avoid this, you can specified combine=False, and CadQuery will create the solid separately.</p>
</div>
<div class="section" id="iteration">
<h2>Iteration<a class="headerlink" href="#iteration" title="Permalink to this headline">¶</a></h2>
<p>CAD models often have repeated geometry, and its really annoying to resort to for loops to construct features.
Many CadQuery methods operate automatically on each element on the stack, so that you don&#8217;t have to write loops.
For example, this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Workplane</span><span class="p">(</span><span class="s1">&#39;XY&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">faces</span><span class="p">(</span><span class="s2">&quot;&gt;Z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Will actually create 4 circles, because vertices() selects 4 vertices of a rectangular face, and the circle() method
iterates on each member of the stack.</p>
<p>This is really useful to remember  when you author your own plugins. <code class="xref py py-meth docutils literal"><span class="pre">cadquery.CQ.Workplane.each()</span></code> is useful for this purpose.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fileformat.html" class="btn btn-neutral float-right" title="CadQuery Scripts and Object Output" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="designprinciples.html" class="btn btn-neutral" title="CadQuery Design Principles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Parametric Products Intellectual Holdings LLC, All Rights Reserved.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>